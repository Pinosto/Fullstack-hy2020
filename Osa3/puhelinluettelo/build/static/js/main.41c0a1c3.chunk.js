(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{20:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(0),o=t(1),r=t(14),u=t.n(r),a=(t(20),t(3)),s=function(e){var n=e.addPerson,t=e.newName,o=e.handlePersonAdd,r=e.newNumber,u=e.handleNumberAdd;return Object(c.jsx)("form",{onSubmit:n,children:Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:t,onChange:o}),Object(c.jsx)("br",{}),"number:",Object(c.jsx)("input",{value:r,onChange:u}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{type:"submit",children:"add"})]})})},i=function(e){var n=e.handleFilter;return Object(c.jsxs)("p",{children:["filter shown with: ",Object(c.jsx)("input",{onChange:n})]})},l=function(e){var n=e.persons,t=e.filter,o=e.removePerson,r=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return Object(c.jsx)("ul",{children:r.map((function(e){var n=e.id,t=e.name,r=e.number;return Object(c.jsxs)("li",{children:[t,": ",r," ",Object(c.jsx)("button",{onClick:function(){return o(n,t)},children:"delete"},n)]},n)}))})},j=t(4),d=t.n(j),b="/api/persons",f=function(){return d.a.get(b).then((function(e){return e.data}))},h=function(e){return d.a.post(b,e).then((function(e){return e.data}))},m=function(e,n){return d.a.put("".concat(b,"/").concat(n),e).then((function(e){return e.data}))},O=function(e){return d.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))};t(38);var p=function(e){var n=e.message,t=e.inputMessage,o=e.deleteMessage,r=e.errorMessage;return Object(c.jsxs)("div",{children:[t&&n?Object(c.jsx)("p",{className:"message",children:n}):Object(c.jsx)("p",{children:t}),o&&o?Object(c.jsx)("p",{className:"delete",children:o}):Object(c.jsx)("p",{}),r&&r?Object(c.jsx)("p",{className:"error",children:r}):Object(c.jsx)("p",{})]})},g=(t(39),function(){var e=Object(o.useState)([]),n=Object(a.a)(e,2),t=n[0],r=n[1];Object(o.useEffect)((function(){console.log("effect"),f().then((function(e){console.log("promise fulfilled"),r(e),console.log(e)}))}),[]),console.log("render",t.length,"numbers");var u=Object(o.useState)(""),j=Object(a.a)(u,2),d=j[0],b=j[1],g=Object(o.useState)(""),v=Object(a.a)(g,2),x=v[0],w=v[1],N=Object(o.useState)(""),k=Object(a.a)(N,2),S=k[0],P=k[1],y=Object(o.useState)(null),C=Object(a.a)(y,2),M=C[0],A=C[1],T=Object(o.useState)(null),L=Object(a.a)(T,2),D=L[0],E=L[1],F=Object(o.useState)(null),J=Object(a.a)(F,2),B=J[0],I=J[1];return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(i,{handleFilter:function(e){console.log(e.target.value),P(e.target.value)}}),Object(c.jsx)("h3",{children:"Add a new"}),Object(c.jsx)(p,{message:M,inputMessage:"Sy\xf6t\xe4 uusi henkil\xf6"}),Object(c.jsx)(s,{addPerson:function(e){if(e.preventDefault(),t.some((function(e){return e.name===d}))){if(window.confirm("".concat(d," on jo luettelossa, korvataanko vanha numero"))){var n=t.find((function(e){return e.name===d})).id;m({name:d,number:x},n).then((function(e){r(t.map((function(t){return t.id!==n?t:e}))),b(""),w(""),A("Numero korvattu: ".concat(e.name)),setTimeout((function(){A(null)}),5e3)}))}}else h({name:d,number:x}).then((function(e){r(t.concat(e)),b(""),w(""),A("Lis\xe4tty henkil\xf6: ".concat(e.name)),setTimeout((function(){A(null)}),5e3)}))},newName:d,handlePersonAdd:function(e){console.log(e.target.value),b(e.target.value)},newNumber:x,handleNumberAdd:function(e){console.log(e.target.value),w(e.target.value)}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(p,{deleteMessage:D,errorMessage:B}),Object(c.jsx)(l,{persons:t,filter:S,removePerson:function(e,n){window.confirm("Do you realy want delete ".concat(n))&&O(e).then((function(c){console.log(c),r(t.filter((function(n){return n.id!==e}))),E("Removed: ".concat(n)),setTimeout((function(){E(null)}),5e3)})).catch((function(c){r(t.filter((function(n){return n.id!==e}))),I("".concat(n," on jo poistettu palvelimelta")),setTimeout((function(){I(null)}),5e3)}))}})]})});u.a.render(Object(c.jsx)(g,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.41c0a1c3.chunk.js.map