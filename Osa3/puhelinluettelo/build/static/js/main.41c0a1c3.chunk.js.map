{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Numbers.js","services/numbers.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","handlePersonAdd","newNumber","handleNumberAdd","onSubmit","value","onChange","type","Filter","handleFilter","Numbers","persons","filter","removePerson","filteredPerson","person","name","toLowerCase","includes","map","id","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","inputMessage","deleteMessage","errorMessage","className","App","useState","setPersons","useEffect","console","log","numberService","initialNumbers","length","setNewName","setNewNumber","setNewFilter","setMessage","setdeleteMessage","setErrorMessage","event","target","preventDefault","some","window","confirm","updatePersonId","find","p","changedPerson","setTimeout","returnedPerson","concat","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41c0a1c3.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst PersonForm = ({ addPerson, newName, handlePersonAdd, newNumber, handleNumberAdd }) => {\r\n\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newName}\r\n                    onChange={handlePersonAdd} />\r\n                <br />\r\n                number:<input value={newNumber}\r\n                    onChange={handleNumberAdd} />\r\n                <br />\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst Filter = ({ handleFilter }) => {\r\n    return (<p>filter shown with: <input onChange={handleFilter} /></p>)\r\n  }\r\n\r\n  export default Filter","import React from \"react\"\r\n\r\nconst Numbers = ({ persons, filter, removePerson }) => {\r\n\r\n    const filteredPerson = persons.filter(person => (person.name.toLowerCase().includes(filter.toLowerCase())))\r\n\r\n    return (\r\n        <ul>\r\n            {filteredPerson.map(({ id, name, number }) =>\r\n                <li key={id}>{name}: {number} <button key={id} onClick={(()=>removePerson(id,name))}>delete</button></li>\r\n            )}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Numbers","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (newObject, id) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\nimport './notification.css'\r\n\r\nfunction Notification({ message, inputMessage, deleteMessage,errorMessage }) {\r\n    return (\r\n        <div>\r\n            {inputMessage && message ? <p className=\"message\" >{message}</p> : <p>{inputMessage}</p>}\r\n            {deleteMessage && deleteMessage ? <p className=\"delete\">{deleteMessage}</p>:<p></p>}\r\n            {errorMessage && errorMessage ? <p className=\"error\">{errorMessage}</p>:<p></p>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from \"./components/PersonForm\"\nimport Filter from \"./components/Filter\"\nimport Numbers from \"./components/Numbers\"\nimport numberService from './services/numbers'\nimport Notification from './components/Notification'\nimport './App.css'\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n\n  useEffect(() => {\n    console.log('effect')\n    numberService\n      .getAll()\n      .then(initialNumbers => {\n        console.log('promise fulfilled')\n        setPersons(initialNumbers)\n        console.log(initialNumbers)\n      })\n  }, [])\n  console.log('render', persons.length, 'numbers')\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setNewFilter] = useState('')\n  const inputMessage= 'Syötä uusi henkilö'\n  const [message, setMessage] = useState(null)\n  const [deleteMessage, setdeleteMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const addPerson = (event) => {\n\n    event.preventDefault()\n    if (persons.some((person) => person.name === newName)) {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero`)) {\n        const updatePersonId = persons.find(p => p.name === newName).id\n        const personObject = {\n          name: newName,\n          number: newNumber\n        }\n        numberService\n          .update(personObject, updatePersonId)\n          .then(changedPerson => {\n            setPersons(persons.map(p => p.id !== updatePersonId ? p : changedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage(`Numero korvattu: ${changedPerson.name}`)\n            setTimeout(() => {\n              setMessage(null)\n            },5000)\n          })\n      }\n\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      numberService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`Lisätty henkilö: ${returnedPerson.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          },5000)\n        })\n    }\n  }\n\n  const removePerson = (id, name) => {\n\n    if (window.confirm(`Do you realy want delete ${name}`)) {\n      numberService\n        .remove(id)\n        .then(returnedPerson => {\n          console.log(returnedPerson)\n          setPersons(persons.filter(p => p.id !== id))\n          setdeleteMessage(`Removed: ${name}`)\n          setTimeout(() => {\n            setdeleteMessage(null)\n          },5000)\n        })\n        .catch(error => {\n          setPersons(persons.filter(p => p.id !== id))\n          setErrorMessage(`${name} on jo poistettu palvelimelta`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000);\n        })\n    }\n  }\n\n  const handleFilter = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n  const handlePersonAdd = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberAdd = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div className=\"app\">\n      <h2>Phonebook</h2>\n      <Filter handleFilter={handleFilter} />\n\n      <h3>Add a new</h3>\n      <Notification message={message} inputMessage={inputMessage}/>\n      <PersonForm addPerson={addPerson} newName={newName} handlePersonAdd={handlePersonAdd} newNumber={newNumber} handleNumberAdd={handleNumberAdd} />\n\n      <h2>Numbers</h2>\n      <Notification deleteMessage={deleteMessage} errorMessage={errorMessage}/>\n      <Numbers persons={persons} filter={filter} removePerson={removePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n\n  <App />\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}